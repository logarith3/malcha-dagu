# =============================================================================
# MALCHA-DAGU Environment Variables
# Production Security Configuration
# =============================================================================

# -----------------------------------------------------------------------------
# Django Core
# -----------------------------------------------------------------------------
DEBUG=False
SECRET_KEY=your-secret-key-change-in-production
ALLOWED_HOSTS=dagu.malchalab.com

# -----------------------------------------------------------------------------
# SSO Configuration (CRITICAL)
# -----------------------------------------------------------------------------
# Malcha와 동일한 SECRET_KEY 필수! (JWT 서명 검증용)
# 이 값이 다르면 SSO 인증 실패함
SHARED_SECRET_KEY=your-malcha-secret-key-for-jwt-verification

# JWT 설정 (Malcha와 일치해야 함)
# - ISSUER: malchalab.com
# - AUDIENCE: dagu.malchalab.com
# - ALGORITHM: HS256

# -----------------------------------------------------------------------------
# CORS (쉼표로 구분)
# -----------------------------------------------------------------------------
CORS_ORIGINS=https://malchalab.com,https://www.malchalab.com,https://dagu.malchalab.com

# -----------------------------------------------------------------------------
# Database
# -----------------------------------------------------------------------------
DATABASE_URL=postgres://postgres:postgres@db:5432/malcha_dagu

# -----------------------------------------------------------------------------
# Redis (캐시 + Rate Limiting)
# -----------------------------------------------------------------------------
REDIS_URL=redis://redis:6379/0

# -----------------------------------------------------------------------------
# External APIs
# -----------------------------------------------------------------------------
# Naver Shopping API
NAVER_CLIENT_ID=your-naver-client-id
NAVER_CLIENT_SECRET=your-naver-client-secret

# OpenAI (for AI description)
OPENAI_API_KEY=your-openai-api-key

# -----------------------------------------------------------------------------
# Frontend
# -----------------------------------------------------------------------------
VITE_API_BASE_URL=https://dagu.malchalab.com/api

# =============================================================================
# Security Checklist (프로덕션 배포 전 확인)
# =============================================================================
# [ ] DEBUG=False 설정됨
# [ ] SHARED_SECRET_KEY가 Malcha의 SECRET_KEY와 동일함
# [ ] ALLOWED_HOSTS에 실제 도메인만 포함됨
# [ ] CORS_ORIGINS에 허용된 도메인만 포함됨
# [ ] Redis가 프로덕션 환경에서 실행 중
# [ ] HTTPS 인증서 설정됨 (nginx/certbot)
# [ ] 방화벽 설정됨 (80, 443만 외부 개방)
